<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}PG Wawalu{% endblock %}</title>
    <meta
      name="description"
      content="{% block meta_description %}{% endblock %}"
    />

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Material Symbols Outlined -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
    />

    <!-- Tailwind CSS -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/output.css') }}"
    />

    <!-- Custom CSS -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/base.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/chatbot.css') }}"
    />

    {% block extra_css %}{% endblock %}
  </head>
  <body class="font-['Inter'] bg-gray-50 flex flex-col min-h-screen">
    <!-- Header -->
    <header
      class="bg-white shadow-sm w-full"
      style="position: fixed; top: 0; left: 0; z-index: 100"
    >
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-20">
          <!-- Logo -->
          <div class="shrink-0 flex items-center">
            <a href="{{ url_for('index') }}">
              <img
                class="h-12 w-auto"
                src="{{ url_for('static', filename='image/logo/logo.png') }}"
                alt="Wawalu Logo"
              />
            </a>
            <a
              href="{{ url_for('index') }}"
              class="ml-3 text-2xl font-bold text-blue-600 hidden sm:block"
            >
              awalu
            </a>
          </div>

          <!-- Desktop Navigation -->
          <nav class="hidden xl:flex items-center space-x-1">
            <a
              href="{{ url_for('index') }}"
              class="nav-link flex items-center px-4 py-2 text-sm font-medium rounded-lg transition-colors {% if request.endpoint == 'index' %}bg-blue-50 text-blue-600{% else %}text-gray-600 hover:bg-gray-50 hover:text-blue-600{% endif %}"
            >
              <span
                class="material-symbols-outlined mr-2 text-[22px] {% if request.endpoint == 'index' %}text-blue-600{% else %}text-gray-500{% endif %}"
                >home</span
              >
              Inicio
            </a>
            <a
              href="{{ url_for('about') }}"
              class="nav-link flex items-center px-4 py-2 text-sm font-medium rounded-lg transition-colors {% if request.endpoint == 'about' %}bg-blue-50 text-blue-600{% else %}text-gray-600 hover:bg-gray-50 hover:text-blue-600{% endif %}"
            >
              <span
                class="material-symbols-outlined mr-2 text-[22px] {% if request.endpoint == 'about' %}text-blue-600{% else %}text-gray-500{% endif %}"
                >info</span
              >
              Nosotros
            </a>
            <a
              href="{{ url_for('programs') }}"
              class="nav-link flex items-center px-4 py-2 text-sm font-medium rounded-lg {% if request.path == '/programas' %}text-blue-600 bg-blue-50{% else %}text-gray-600 hover:bg-gray-50 hover:text-blue-600{% endif %} transition-colors"
            >
              <span
                class="material-symbols-outlined mr-2 text-[22px] {% if request.path == '/programas' %}text-blue-600{% else %}text-gray-500{% endif %}"
                >school</span
              >
              Programas
            </a>
            <a
              href="{{ url_for('public_shop') }}"
              class="nav-link flex items-center px-4 py-2 text-sm font-medium rounded-lg {% if request.endpoint == 'public_shop' %}bg-blue-50 text-blue-600{% else %}text-gray-600 hover:bg-gray-50 hover:text-blue-600{% endif %} transition-colors"
            >
              <span
                class="material-symbols-outlined mr-2 text-[22px] {% if request.endpoint == 'public_shop' %}text-blue-600{% else %}text-gray-500{% endif %}"
                >storefront</span
              >
              Tienda
            </a>
            <a
              href="{{ url_for('admission') }}"
              class="nav-link flex items-center px-4 py-2 text-sm font-medium rounded-lg text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors"
            >
              <span
                class="material-symbols-outlined mr-2 text-[22px] text-gray-500"
                >assignment</span
              >
              Admisión
            </a>
            <a
              href="{{ url_for('contact') }}"
              class="nav-link flex items-center px-4 py-2 text-sm font-medium rounded-lg text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors"
            >
              <span
                class="material-symbols-outlined mr-2 text-[22px] text-gray-500"
                >help</span
              >
              Contacto
            </a>

            <!-- Dropdown Más -->
            <div class="relative group">
              <button
                id="more-menu-btn"
                class="nav-link flex items-center px-4 py-2 text-sm font-medium rounded-lg text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors focus:outline-none"
              >
                <span
                  class="material-symbols-outlined mr-2 text-[22px] text-gray-500"
                  >more_horiz</span
                >
                Más
                <span class="material-symbols-outlined ml-1 text-[18px]"
                  >expand_more</span
                >
              </button>

              <!-- Dropdown Content -->
              <div
                id="more-menu-content"
                class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 hidden border border-gray-100 animate-fade-in z-50"
              >
                <a
                  href="{{ url_for('public_news') }}"
                  class="block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600"
                >
                  <span class="inline-flex items-center">
                    <span class="material-symbols-outlined mr-2 text-[18px]"
                      >article</span
                    >
                    Noticias
                  </span>
                </a>
                <a
                  href="{{ url_for('public_galery') }}"
                  class="block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600"
                >
                  <span class="inline-flex items-center">
                    <span class="material-symbols-outlined mr-2 text-[18px]"
                      >gallery_thumbnail</span
                    >
                    Galería
                  </span>
                </a>
                <a
                  href="{{ url_for('complaints') }}"
                  class="block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600"
                >
                  <span class="inline-flex items-center">
                    <span class="material-symbols-outlined mr-2 text-[18px]"
                      >gavel</span
                    >
                    Reclamos
                  </span>
                </a>
              </div>
            </div>

            <!-- Cart Button -->
            <a
              href="{{ url_for('public_cart') }}"
              class="nav-link flex items-center px-4 py-2 text-sm font-medium rounded-lg text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors"
            >
              <span
                class="material-symbols-outlined mr-2 text-[22px] text-gray-500"
                >shopping_cart</span
              >
              Carrito
              <span
                class="ml-2 bg-red-600 text-white text-xs font-bold px-2 py-0.5 rounded-full"
                >0</span
              >
            </a>

            <!-- User Menu (Logged In) -->
            {% if session.get('user_id') %}
            <div class="relative group ml-4">
              <button
                id="user-menu-btn"
                class="flex items-center space-x-2 text-sm font-medium text-gray-700 hover:text-blue-600 focus:outline-none transition-colors"
              >
                <div
                  class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 overflow-hidden border border-blue-200"
                >
                  {% if session.get('profile_image') %}
                  <img
                    src="{{ url_for('serve_image', table='users', id=session.get('user_id')) }}"
                    alt="Profile"
                    class="w-full h-full object-cover"
                  />
                  {% else %}
                  <span class="material-symbols-outlined text-[20px]"
                    >person</span
                  >
                  {% endif %}
                </div>
                <span class="hidden lg:block"
                  >{{ session.get('user_name', 'Usuario') }}</span
                >
                <span class="material-symbols-outlined text-[18px]"
                  >expand_more</span
                >
              </button>

              <!-- User Dropdown -->
              <div
                id="user-menu-content"
                class="absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg py-2 hidden border border-gray-100 animate-fade-in z-50"
              >
                <div class="px-4 py-2 border-b border-gray-100">
                  <p class="text-sm font-medium text-gray-900">
                    {{ session.get('user_name') }}
                  </p>
                  <p class="text-xs text-gray-500 truncate">
                    {{ session.get('user_email', '') }}
                  </p>
                </div>

                <a
                  href="{{ url_for('dashboard') }}"
                  class="block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600"
                >
                  <span class="inline-flex items-center">
                    <span class="material-symbols-outlined mr-2 text-[18px]"
                      >dashboard</span
                    >
                    Regresar al panel estudiantil
                  </span>
                </a>

                <div class="border-t border-gray-100 mt-1 pt-1">
                  <a
                    href="{{ url_for('logout') }}"
                    class="block px-4 py-2 text-sm text-red-600 hover:bg-red-50"
                  >
                    <span class="inline-flex items-center">
                      <span class="material-symbols-outlined mr-2 text-[18px]"
                        >logout</span
                      >
                      Cerrar Sesión
                    </span>
                  </a>
                </div>
              </div>
            </div>
            {% else %}
            <!-- Login Button -->
            <a
              href="{{ url_for('login') }}"
              class="flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-sm transition-all hover:shadow-md"
            >
              <span class="material-symbols-outlined mr-2 text-[20px]"
                >login</span
              >
              Iniciar Sesión
            </a>
            {% endif %}
          </nav>

          <!-- Mobile menu button -->
          <div class="flex items-center xl:hidden">
            <button
              id="mobile-menu-btn"
              type="button"
              class="inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-blue-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500"
              aria-controls="mobile-menu"
              aria-expanded="false"
            >
              <span class="sr-only">Abrir menú principal</span>
              <span class="material-symbols-outlined text-[28px]">menu</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Mobile Menu Overlay -->
      <div
        id="mobile-menu-overlay"
        class="fixed inset-0 bg-black/5 backdrop-blur-md z-105 hidden opacity-0 transition-opacity duration-300 xl:hidden"
      ></div>

      <!-- Mobile Menu -->
      <div
        id="mobile-menu"
        class="fixed inset-y-0 right-0 max-w-xs w-full bg-white shadow-xl z-110 transform translate-x-full transition-transform duration-300 ease-in-out xl:hidden flex flex-col"
      >
        <div
          class="flex items-center justify-between px-4 py-4 border-b border-gray-200"
        >
          <div class="flex items-center">
            <img
              class="h-8 w-auto"
              src="{{ url_for('static', filename='image/logo/logo.png') }}"
              alt="Wawalu Logo"
            />
            <span class="ml-2 text-xl font-bold text-blue-600">awalu</span>
          </div>
          <button
            id="close-menu-btn"
            type="button"
            class="text-gray-500 hover:text-gray-700 focus:outline-none"
          >
            <span class="material-symbols-outlined text-[28px]">close</span>
          </button>
        </div>

        <div class="flex-1 overflow-y-auto py-4 px-4 space-y-1">
          <a
            href="{{ url_for('index') }}"
            class="block px-3 py-2 rounded-md text-base font-medium transition-colors {% if request.endpoint == 'index' %}bg-blue-50 text-blue-600{% else %}text-gray-900 hover:bg-blue-50 hover:text-blue-600{% endif %}"
          >
            <div class="flex items-center">
              <span
                class="material-symbols-outlined mr-3 {% if request.endpoint == 'index' %}text-blue-600{% else %}text-gray-500{% endif %}"
                >home</span
              >
              Inicio
            </div>
          </a>
          <a
            href="{{ url_for('about') }}"
            class="block px-3 py-2 rounded-md text-base font-medium transition-colors {% if request.endpoint == 'about' %}bg-blue-50 text-blue-600{% else %}text-gray-900 hover:bg-blue-50 hover:text-blue-600{% endif %}"
          >
            <div class="flex items-center">
              <span
                class="material-symbols-outlined mr-3 {% if request.endpoint == 'about' %}text-blue-600{% else %}text-gray-500{% endif %}"
                >info</span
              >
              Nosotros
            </div>
          </a>
          <a
            href="{{ url_for('programs') }}"
            class="block px-3 py-2 rounded-md text-base font-medium transition-colors {% if request.path == '/programas' %}text-blue-600 bg-blue-50{% else %}text-gray-900 hover:bg-blue-50 hover:text-blue-600{% endif %}"
          >
            <div class="flex items-center">
              <span
                class="material-symbols-outlined mr-3 {% if request.path == '/programas' %}text-blue-600{% else %}text-gray-500{% endif %}"
                >school</span
              >
              Programas
            </div>
          </a>

          <div class="my-2 border-t border-gray-100"></div>

          <a
            href="{{ url_for('public_shop') }}"
            class="block px-3 py-2 rounded-md text-base font-medium transition-colors {% if request.endpoint == 'public_shop' %}bg-blue-50 text-blue-600{% else %}text-gray-900 hover:bg-blue-50 hover:text-blue-600{% endif %}"
          >
            <div class="flex items-center">
              <span
                class="material-symbols-outlined mr-3 {% if request.endpoint == 'public_shop' %}text-blue-600{% else %}text-gray-500{% endif %}"
                >storefront</span
              >
              Tienda
            </div>
          </a>

          <a
            href="{{ url_for('admission') }}"
            class="block px-3 py-2 rounded-md text-base font-medium transition-colors {% if request.endpoint == 'admission' %}bg-blue-50 text-blue-600{% else %}text-gray-900 hover:bg-blue-50 hover:text-blue-600{% endif %}"
          >
            <div class="flex items-center">
              <span
                class="material-symbols-outlined mr-3 {% if request.endpoint == 'admission' %}text-blue-600{% else %}text-gray-500{% endif %}"
                >assignment</span
              >
              Admisión
            </div>
          </a>

          <div class="my-2 border-t border-gray-100"></div>

          <a
            href="{{ url_for('public_news') }}"
            class="block px-3 py-2 rounded-md text-base font-medium transition-colors {% if request.endpoint == 'public_news' %}bg-blue-50 text-blue-600{% else %}text-gray-900 hover:bg-blue-50 hover:text-blue-600{% endif %}"
          >
            <div class="flex items-center">
              <span
                class="material-symbols-outlined mr-3 {% if request.endpoint == 'public_news' %}text-blue-600{% else %}text-gray-500{% endif %}"
                >article</span
              >
              Noticias
            </div>
          </a>
          <a
            href="{{ url_for('public_galery') }}"
            class="block px-3 py-2 rounded-md text-base font-medium transition-colors {% if request.endpoint == 'public_galery' %}bg-blue-50 text-blue-600{% else %}text-gray-900 hover:bg-blue-50 hover:text-blue-600{% endif %}"
          >
            <div class="flex items-center">
              <span
                class="material-symbols-outlined mr-3 {% if request.endpoint == 'public_galery' %}text-blue-600{% else %}text-gray-500{% endif %}"
                >gallery_thumbnail</span
              >
              Galería
            </div>
          </a>

          <div class="my-2 border-t border-gray-100"></div>

          <a
            href="{{ url_for('contact') }}"
            class="block px-3 py-2 rounded-md text-base font-medium transition-colors {% if request.endpoint == 'contact' %}bg-blue-50 text-blue-600{% else %}text-gray-900 hover:bg-blue-50 hover:text-blue-600{% endif %}"
          >
            <div class="flex items-center">
              <span
                class="material-symbols-outlined mr-3 {% if request.endpoint == 'contact' %}text-blue-600{% else %}text-gray-500{% endif %}"
                >help</span
              >
              Contacto
            </div>
          </a>
          <a
            href="{{ url_for('complaints') }}"
            class="block px-3 py-2 rounded-md text-base font-medium transition-colors {% if request.endpoint == 'complaints' %}bg-blue-50 text-blue-600{% else %}text-gray-900 hover:bg-blue-50 hover:text-blue-600{% endif %}"
          >
            <div class="flex items-center">
              <span
                class="material-symbols-outlined mr-3 {% if request.endpoint == 'complaints' %}text-blue-600{% else %}text-gray-500{% endif %}"
                >gavel</span
              >
              Reclamos
            </div>
          </a>

          <a
            href="{{ url_for('public_cart') }}"
            class="block px-3 py-2 rounded-md text-base font-medium transition-colors {% if request.endpoint == 'public_cart' %}bg-blue-50 text-blue-600{% else %}text-gray-900 hover:bg-blue-50 hover:text-blue-600{% endif %}"
          >
            <div class="flex items-center">
              <span
                class="material-symbols-outlined mr-3 {% if request.endpoint == 'public_cart' %}text-blue-600{% else %}text-gray-500{% endif %}"
                >shopping_cart</span
              >
              Carrito
              <span
                class="ml-auto bg-red-600 text-white text-xs font-bold px-2 py-0.5 rounded-full"
                >0</span
              >
            </div>
          </a>
        </div>

        <div class="p-4 border-t border-gray-200">
          {% if session.get('user_id') %}
          <div class="flex items-center mb-4 px-2">
            <div
              class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 overflow-hidden border border-blue-200 mr-3"
            >
              {% if session.get('profile_image') %}
              <img
                src="{{ url_for('serve_image', table='users', id=session.get('user_id')) }}"
                alt="Profile"
                class="w-full h-full object-cover"
              />
              {% else %}
              <span class="material-symbols-outlined text-[24px]">person</span>
              {% endif %}
            </div>
            <div>
              <p class="font-medium text-gray-900">
                {{ session.get('user_name') }}
              </p>
              <p class="text-xs text-gray-500">Sesión iniciada</p>
            </div>
          </div>

          <a
            href="{{ url_for('profile') }}"
            class="block px-4 py-2 text-base font-medium text-gray-600 hover:text-blue-600 hover:bg-gray-50 rounded-md"
          >
            <span class="inline-flex items-center">
              <span class="material-symbols-outlined mr-3">person</span>
              Mi Perfil
            </span>
          </a>
          <a
            href="{{ url_for('orders') }}"
            class="block px-4 py-2 text-base font-medium text-gray-600 hover:text-blue-600 hover:bg-gray-50 rounded-md"
          >
            <span class="inline-flex items-center">
              <span class="material-symbols-outlined mr-3">shopping_bag</span>
              Mis Pedidos
            </span>
          </a>

          <a
            href="{{ url_for('dashboard') }}"
            class="block px-4 py-2 text-base font-medium text-gray-600 hover:text-blue-600 hover:bg-gray-50 rounded-md"
          >
            <span class="inline-flex items-center">
              <span class="material-symbols-outlined mr-3">dashboard</span>
              Dashboard
            </span>
          </a>

          <a
            href="{{ url_for('logout') }}"
            class="block px-4 py-2 mt-2 text-base font-medium text-red-600 hover:bg-red-50 rounded-md"
          >
            <span class="inline-flex items-center">
              <span class="material-symbols-outlined mr-3">logout</span>
              Cerrar Sesión
            </span>
          </a>
          {% else %}
          <a
            href="{{ url_for('login') }}"
            class="w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700"
          >
            <span class="material-symbols-outlined mr-2">login</span> Iniciar
            Sesión
          </a>
          {% endif %}
        </div>
      </div>
    </header>

    <!-- Flash Messages Container -->
    <div id="flash-container" class="fixed top-24 right-4 z-[200] space-y-3 max-w-md">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="flash-message bg-white rounded-lg shadow-lg border-l-4 p-4 flex items-start gap-3 transition-all duration-300 
              {% if category == 'success' %}border-green-500
              {% elif category == 'error' %}border-red-500
              {% elif category == 'warning' %}border-yellow-500
              {% elif category == 'info' %}border-blue-500
              {% else %}border-gray-500{% endif %}" role="alert">
              
              <!-- Icon -->
              <div class="flex-shrink-0">
                {% if category == 'success' %}
                  <span class="material-symbols-outlined text-green-500 text-2xl">check_circle</span>
                {% elif category == 'error' %}
                  <span class="material-symbols-outlined text-red-500 text-2xl">error</span>
                {% elif category == 'warning' %}
                  <span class="material-symbols-outlined text-yellow-500 text-2xl">warning</span>
                {% elif category == 'info' %}
                  <span class="material-symbols-outlined text-blue-500 text-2xl">info</span>
                {% else %}
                  <span class="material-symbols-outlined text-gray-500 text-2xl">notifications</span>
                {% endif %}
              </div>
              
              <!-- Message -->
              <div class="flex-1 pt-0.5">
                <p class="text-sm font-medium text-gray-900">{{ message }}</p>
              </div>
              
              <!-- Close Button -->
              <button type="button" class="flash-dismiss flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors">
                <span class="material-symbols-outlined text-xl">close</span>
              </button>
            </div>
          {% endfor %}
        {% endif %}
      {% endwith %}
    </div>

    <!-- Main Content -->
    <main class="grow pt-20">{% block content %}{% endblock %}</main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-white pt-12 pb-8 mt-auto">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
          <!-- Column 1: Logo & Description -->
          <div class="space-y-4">
            <div class="flex items-center space-x-2">
              <div class="bg-white p-1 rounded-md">
                <img
                  src="{{ url_for('static', filename='image/logo/logo.png') }}"
                  alt="Wawalu Logo"
                  class="h-10 w-auto"
                />
              </div>
              <span class="text-2xl font-bold text-blue-400">Wawalu</span>
            </div>
            <p class="text-slate-300 text-sm leading-relaxed">
              Creamos experiencias educativas únicas basadas en la metodología
              Reggio Emilia, promoviendo el desarrollo integral de cada niño.
            </p>
            <div class="flex space-x-4 pt-2">
              <a
                href="https://www.facebook.com/wawalu2014?locale=es_LA"
                target="_blank"
                class="text-slate-400 hover:text-blue-500 transition-colors transform hover:scale-110"
              >
                <img
                  src="{{ url_for('static', filename='icons/social/facebook.png') }}"
                  alt="Facebook"
                  class="h-8 w-8"
                />
              </a>
              <a
                href="https://wa.me/51942139788"
                class="text-slate-400 hover:text-green-500 transition-colors transform hover:scale-110"
              >
                <img
                  src="{{ url_for('static', filename='icons/social/whatsapp.png') }}"
                  alt="WhatsApp"
                  class="h-8 w-8"
                />
              </a>
            </div>
          </div>

          <!-- Column 2: Quick Links -->
          <div>
            <h3
              class="text-lg font-semibold text-white mb-4 border-b border-slate-700 pb-2 inline-block"
            >
              Enlaces Rápidos
            </h3>
            <ul class="space-y-2">
              <li>
                <a
                  href="{{ url_for('index') }}"
                  class="text-slate-300 hover:text-blue-400 transition-colors flex items-center text-sm"
                >
                  <span class="material-symbols-outlined text-xs mr-2"
                    >chevron_right</span
                  >
                  Inicio
                </a>
              </li>
              <li>
                <a
                  href="{{ url_for('about') }}"
                  class="text-slate-300 hover:text-blue-400 transition-colors flex items-center text-sm"
                >
                  <span class="material-symbols-outlined text-xs mr-2"
                    >chevron_right</span
                  >
                  Nosotros
                </a>
              </li>
              <li>
                <a
                  href="{{ url_for('programs') }}"
                  class="text-slate-300 hover:text-blue-400 transition-colors flex items-center text-sm"
                >
                  <span class="material-symbols-outlined text-xs mr-2"
                    >chevron_right</span
                  >
                  Programas
                </a>
              </li>
              <li>
                <a
                  href="{{ url_for('public_galery') }}"
                  class="text-slate-300 hover:text-blue-400 transition-colors flex items-center text-sm"
                >
                  <span class="material-symbols-outlined text-xs mr-2"
                    >chevron_right</span
                  >
                  Galería
                </a>
              </li>
              <li>
                <a
                  href="{{ url_for('contact') }}"
                  class="text-slate-300 hover:text-blue-400 transition-colors flex items-center text-sm"
                >
                  <span class="material-symbols-outlined text-xs mr-2"
                    >chevron_right</span
                  >
                  Contacto
                </a>
              </li>
            </ul>
          </div>

          <!-- Column 3: Contact Info -->
          <div>
            <h3
              class="text-lg font-semibold text-white mb-4 border-b border-slate-700 pb-2 inline-block"
            >
              Contáctanos
            </h3>
            <ul class="space-y-4">
              <li class="flex items-start">
                <span
                  class="material-symbols-outlined text-blue-500 mr-3 mt-0.5"
                  >location_on</span
                >
                <span class="text-slate-300 text-sm"
                  >Av. Mariscal Benavides 1365, Cañete, Lima, Perú</span
                >
              </li>
              <li class="flex items-center">
                <span class="material-symbols-outlined text-blue-500 mr-3"
                  >call</span
                >
                <span class="text-slate-300 text-sm">+51 942 139 788</span>
              </li>
              <li class="flex items-center">
                <span class="material-symbols-outlined text-blue-500 mr-3"
                  >mail</span
                >
                <a
                  href="mailto:diego.centeno@vallegrande.edu.pe"
                  class="text-slate-300 hover:text-blue-400 text-sm transition-colors"
                  >diego.centeno@vallegrande.edu.pe</a
                >
              </li>
              <li class="flex items-center">
                <span class="material-symbols-outlined text-green-500 mr-3"
                  >chat</span
                >
                <a
                  href="https://wa.me/51942139788"
                  target="_blank"
                  class="text-slate-300 hover:text-green-400 text-sm transition-colors"
                  >WhatsApp Directo</a
                >
              </li>
              <li class="flex items-center">
                <span class="material-symbols-outlined text-blue-500 mr-3"
                  >schedule</span
                >
                <span class="text-slate-300 text-sm"
                  >Lun - Vie: 8:00 AM - 5:00 PM</span
                >
              </li>
            </ul>
          </div>

          <!-- Column 4: Payment Methods & Help -->
          <div>
            <h3
              class="text-lg font-semibold text-white mb-4 border-b border-slate-700 pb-2 inline-block"
            >
              Métodos de Pago
            </h3>
            <div
              class="bg-slate-800 p-4 rounded-lg border border-slate-700 mb-6"
            >
              <p
                class="text-xs text-slate-400 mb-3 uppercase tracking-wider font-semibold"
              >
                Pagos Digitales
              </p>
              <div class="flex space-x-3">
                <div
                  class="h-10 w-16 bg-slate-700 rounded flex items-center justify-center text-slate-400 hover:bg-slate-600 transition-colors cursor-pointer"
                  title="Yape"
                >
                  <span class="material-symbols-outlined">qr_code_2</span>
                </div>
                <div
                  class="h-10 w-16 bg-slate-700 rounded flex items-center justify-center text-slate-400 hover:bg-slate-600 transition-colors cursor-pointer"
                  title="Tarjeta"
                >
                  <span class="material-symbols-outlined">credit_card</span>
                </div>
              </div>
            </div>

            <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
              <p class="text-blue-400 text-sm font-medium mb-1">
                ¿Necesitas ayuda?
              </p>
              <a
                href="{{ url_for('contact') }}"
                class="flex items-center text-slate-300 hover:text-white transition-colors text-sm"
              >
                <span class="material-symbols-outlined mr-2 text-[20px]"
                  >help_center</span
                >
                Centro de ayuda
              </a>
            </div>
          </div>
        </div>

        <hr class="border-slate-800 my-8" />

        <div
          class="flex flex-col md:flex-row justify-between items-center text-sm text-slate-500"
        >
          <p>&copy; 2025 Wawalu. Todos los derechos reservados.</p>
          <div class="flex space-x-6 mt-4 md:mt-0">
            <a
              href="{{ url_for('admission') }}"
              class="hover:text-blue-400 transition-colors"
              >Admisión</a
            >
            <a
              href="{{ url_for('terms') }}"
              class="hover:text-blue-400 transition-colors"
              >Términos y Condiciones</a
            >
            <a
              href="{{ url_for('privacy') }}"
              class="hover:text-blue-400 transition-colors"
              >Política de Privacidad</a
            >
            <a
              href="{{ url_for('cookies') }}"
              class="hover:text-blue-400 transition-colors"
              >Cookies</a
            >
          </div>
        </div>
      </div>
    </footer>

    <!-- Floating Social Buttons & Chatbot -->
    <div class="fixed bottom-6 right-6 flex flex-col space-y-3 z-30 items-end">
      <!-- Chatbot Button -->
      <button
        id="chatbot-button"
        class="chatbot-button"
        title="Chat con Wawalu"
      >
        <span class="material-symbols-outlined text-3xl text-blue-600"
          >smart_toy</span
        >
      </button>

      <!-- WhatsApp -->
      <a
        href="https://wa.me/51942139788"
        target="_blank"
        class="floating-social bg-green-500 hover:bg-green-600 text-white w-14 h-14 rounded-full shadow-lg flex items-center justify-center transition-all transform hover:scale-110"
        title="Chat en WhatsApp"
      >
        <img
          src="{{ url_for('static', filename='icons/social/whatsapp.png') }}"
          alt="WhatsApp"
          class="h-8 w-8"
        />
      </a>

      <!-- Facebook -->
      <a
        href="https://www.facebook.com/wawalu2014?locale=es_LA"
        target="_blank"
        class="floating-social bg-blue-600 hover:bg-blue-700 text-white w-14 h-14 rounded-full shadow-lg flex items-center justify-center transition-all transform hover:scale-110"
        title="Síguenos en Facebook"
      >
        <img
          src="{{ url_for('static', filename='icons/social/facebook.png') }}"
          alt="Facebook"
          class="h-8 w-8"
        />
      </a>
    </div>

    <div id="chatbot-window" class="chatbot-window">
      <div class="chatbot-header">
        <h3>Asistente Wawalu</h3>
        <button id="chatbot-close" class="chatbot-close">
          <span class="material-symbols-outlined">close</span>
        </button>
      </div>
      <div id="chatbot-messages" class="chatbot-messages">
        <!-- Messages will be rendered here by JS -->
      </div>
      <div class="chatbot-input-container">
        <form id="chatbot-form" class="chatbot-input-form">
          <input
            type="text"
            id="chatbot-input"
            class="chatbot-input"
            placeholder="Escribe tu mensaje..."
            autocomplete="off"
          />
          <button type="submit" class="chatbot-send">
            <span class="material-symbols-outlined">send</span>
          </button>
        </form>
      </div>
    </div>

    <!-- Scripts -->
    <script src="{{ url_for('static', filename='js/base.js') }}"></script>
    <script src="{{ url_for('static', filename='js/chatbot.js') }}"></script>
    <script src="{{ url_for('static', filename='js/flash_messages.js') }}"></script>
    {% block extra_js %}{% endblock %}
  </body>
</html>
