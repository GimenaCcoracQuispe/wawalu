{% extends 'dashboard/base_dashboard.html' %} {% block title %}Gestión de
Asistencia - Wawalu{% endblock %} {% block content %}
<div class="max-w-7xl mx-auto">
  <!-- Header -->
  <div class="mb-8">
    <span class="text-gray-500 text-sm font-medium mb-1 block"
      >Gestión Académica > Asistencia</span
    >
    <h1 class="text-3xl font-bold text-gray-800">Gestión de Asistencia</h1>
  </div>

  <!-- Filters -->
  <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2"
          >Programa</label
        >
        <select
          id="programSelect"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
        >
          <option value="">Seleccionar programa</option>
          {% for program in programs %}
          <option value="{{ program.id }}">{{ program.name }}</option>
          {% endfor %}
        </select>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2"
          >Fecha</label
        >
        <input
          type="date"
          id="dateSelect"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
        />
      </div>
    </div>
    <button
      onclick="loadAttendance()"
      class="mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 transition-colors flex items-center gap-2"
    >
      <span class="material-symbols-outlined">search</span>
      Cargar Estudiantes
    </button>
  </div>

  <!-- Attendance Table -->
  <div
    id="attendanceTable"
    class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hidden"
  >
    <div
      class="px-6 py-4 border-b border-gray-100 flex items-center justify-between"
    >
      <h2 class="text-lg font-semibold text-gray-800">Lista de Asistencia</h2>
      <button
        onclick="saveAttendance()"
        class="bg-green-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-green-700 transition-colors flex items-center gap-2"
      >
        <span class="material-symbols-outlined">save</span>
        Guardar Asistencia
      </button>
    </div>
    <div class="overflow-x-auto">
      <table class="w-full text-left border-collapse">
        <thead>
          <tr
            class="bg-gray-50 border-b border-gray-100 text-xs uppercase text-gray-500 font-semibold tracking-wider"
          >
            <th class="px-6 py-4">Estudiante</th>
            <th class="px-6 py-4">Estado</th>
            <th class="px-6 py-4">Observaciones</th>
          </tr>
        </thead>
        <tbody id="studentsList" class="divide-y divide-gray-100">
          <!-- Students will be loaded here -->
        </tbody>
      </table>
    </div>
  </div>
</div>

<script src="{{ url_for('static', filename='js/manage_attendance.js') }}"></script>
{% endblock %}
